<%@ page language="java" contentType="text/html; charset=EUC-KR" pageEncoding="EUC-KR"%>

<!DOCTYPE html>
<!-- #location
<div id="location" class="">
	<ul>
		<li>
			<button onclick="$(this).toggleClass('active').next().slideToggle();"
				class="">유해인자관리</button>
			<ul class="dropdown-list clear-able" style="display: none;">
				<li><a href="/page/KW20000/KW20000U1100.do">유해인자관리</a></li>
			</ul>
		</li>
		<li>

			<button onclick="$(this).toggleClass('active').next().slideToggle();">화학제품관리</button>

			<ul class="dropdown-list clear-able">
				<li><a href="/page/KW20000/KW20000U1100.do">화학제품관리</a></li>
				<li><a href="/page/KW20000/KW20000U2100.do">유해인자정보관리</a></li>
			</ul>
		</li>
		<li>
			<button onclick="$(this).toggleClass('active').next().slideToggle();">화학제품 현황</button>
			<ul class="dropdown-list clear-able">
				<li><a href="/page/KW20000/KW20000U1100.do">MSDS 조회 및 등록</a></li>
				<li><a href="/page/KW20000/KW20000U1200.do">화학제품 현황</a></li>
				<li><a href="/page/KW20000/KW20000U1300.do">화학물질 입출고 현황</a></li>
				<li><a href="https://msds.kosha.or.kr/MSDSInfo/kcic/msds/msds.do?page=ghs02">경고표지 작성</a></li>
				<li><a href="/page/KW20000/KW20000U1500.do">경고표지 관리</a></li>
			</ul>
		</li>
	</ul>
</div>
-->

<!-- #container -->
    <div id="container">
            
        <div class="headline sub_headline sub_headline01">
          <div class="inner">
              <h1>유해인자 관리</h1>
          </div>
        </div>      
    
        <div class="inner">
          <!-- 하단여백 섹션으로 구분 -->
          <section id="content">
           <div class="con_area">       
        
        
        <!-- ▼ 타이틀 영역 -->
       <div class="con_section ">
            <h2 class="con_sectionTit">화학제품관리 > <span class="subtit">화학제품 현황</span></h2> 
        </div>
        
        <!-- ▼ 정보입력 영역 -->           
        <div class="mt20">
            <!-- #content section////////////////////////////// -->
  <section id="content">
    <div class="button-group top">

      <!-- ▼ 버튼 영역 -->
        <div class="btn_top">   
            <a href="javascript:location.href='join05.php';" class="btn_round btn_save btn_prt"><span>인쇄하기</span></a>
        </div>
    </div>

    <div>

      <!-- 항목선택 -->
      <section class="work-section" id="work">
    <div class="section-header clearfix">
        <div class="inner">
            <span class="title-h2">항목선택</span>
            <ul class="tabs-nav">
                <li><a href="#work01">모두</a></li>
                <li><a href="#work02">물질정보</a></li>
                <li><a href="#work03">산업안전보건법</a></li>
                <li><a href="#work04">화학물질관리법</a></li>
            </ul>
        </div>
    </div>

    <div class="section-body">
        <div class="tabs-panel" id="work01">
            
            <div class="content">
                <div class="inner">
                    <div class="description">
                      <ul>
                        <li>
                          <label>
                          <span class="input-checkbox">
                            <i></i>
                          </span>
                          월취급량(단위)
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          사용용도
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          사용/제조/판매/수입
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          주요함유물질(함량/CASNO)
                          </label>
                        </li>

                      </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="tabs-panel" id="work02">
            <div class="image-wrapper">
              
            </div>
            <div class="content">
                <div class="inner">
                    <div class="description">
                      <ul>
                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          월취급량(단위)
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          사용용도
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          사용/제조/판매/수입
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          주요함유물질(함량/CASNO)
                          </label>
                        </li>

                      </ul>

                    </div>
                </div>
            </div>
        </div>
        <div class="tabs-panel" id="work03">
            <div class="image-wrapper">
               
            </div>
            <div class="content">
                <div class="inner">
                  <div class="description">
                      <ul>
                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          작업환경측정
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          특수건강검진
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          특별관리물질
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          허가대상물질
                          </label>
                        </li>
                      
                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          제조금지물질
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          관리대상물질
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          허용기준설정물질
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          노출기준설정물질
                          </label>
                        </li>
                      </ul>

                      <ul>
                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                         공정안전보고서 대상
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          위험물질관리법
                          </label>
                        </li>

                      </ul>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="tabs-panel" id="work04">
            <div class="image-wrapper">
                
            </div>
            <div class="content">
                <div class="inner">
                    <div class="description">
                      <ul>
                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          유독물질
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          제한물질
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          금지물질
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          사고대비물질
                          </label>
                        </li>

                        <li>
                          <label>
                          <span class="input-checkbox">
                            <input type="checkbox" name="agree1" value="Y">
                            <i></i>
                          </span>
                          기존화학물질
                          </label>
                        </li>

                      </ul>
                    </div>
                </div>
            </div>
        </div>        
    </div>

</section>
    </div>
     

    <table class="board-list">
      <colgroup>
        <col style="width: 5%">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
      </colgroup>
      <thead>
        <tr>
          <th>NO</th>
          <th>단위사업체</th>
          <th>공정</th>
          <th>제품명</th>
          <th>월 취급량</th>
          <th>단위</th>
          <th>사용용도</th>
          <th>사용/제조<br>판매/수입</th>
          <th>주요함유물질</th>
          <th>함량(%)최소</th>
          <th>함량(%)최대</th>
          <th>CASNO</th>
        </tr>
      </thead>
      <tbody id="dataSection" name="tbody"></tbody>
	</table>
	<!-- 페이징 -->
	<div id="paginationBox" class="paging"></div>
  </section>
        </div>
    
       
    </div>              
          </section>
        </div>
<!-- 컨텐츠 -->      
    <!-- //#container -->

    <div class="util-bottom">
  <div class="inner">
    <a class="btn-top" href="#wrap" onclick="$(window).scrollTop(0); return false;">위로</a>
  </div>
</div>

<script>

$(document).ready(function() {
	getPage();
})

function getPage(page) {
	var searchType = $("#searchType").val();
	var search = $("#searchInput").val();
	$.ajax({
				url : "/page/KW20000/KW20000U1200selectList", //서비스 주소 
				data : {  //서비스 처리에 필요한 인자값
					page : page,
					searchType : searchType,
					keyword : search				
				},
				success : function(res) {
					const list = res['resultList'];
					const pagination = res['pagination'];
					var totalCnt = "";
					var data = "";
					var block = "";

					//페이지 번호 위치				
					totalCnt += '전체 <strong class="tc_point mr20">' +pagination['listCnt']+ '</strong>현재페이지 <strong class="tc_point"><span></span>' +pagination['page']+ '/' +pagination['listCnt']+ '</strong>'
					if(list.length !== 0){
					// 테이블의 row를 삽입하는 부분
					for (var i = 0; i < list.length; i++) {
						data += '<tr>';
						data += '<td style="display:none" class="seq">' + list[i].seq + '</td>';
						data += '<td class="rnum">' + list[i].rnum + '</td>';
						data += '<td class="unitCoNm">' + list[i].unitCoNm + '</td>';
						data += '<td class="prcsNm">' + list[i].prcsNm + '</td>';
						data += '<td class="prdtNm">' + list[i].prdtNm + '</td>';
						data += '<td class="mmHndlQnty">' + list[i].mmHndlQnty + '</td>';
						data += '<td class="unit">' + list[i].unit + '</td>';
						data += '<td class="useUse">' + list[i].useUse + '</td>';
						data += '<td class="ownTp">' + list[i].ownTp + '</td>';
						data += '<td class="mainCntnMtrl">' + list[i].mainCntnMtrl + '</td>';
						data += '<td class="conQtyMin">' + list[i].conQtyMin + '</td>';
						data += '<td class="conQtyMax">' + list[i].conQtyMax + '</td>';
						data += '<td class="casNo">' + list[i].casNo + '</td>';
						data += '</tr>';
					}
					} else {
						data += "<tr>";
						data += "<td colspan='12'>등록된 게시글이 없습니다.</td>";
						data += "</tr>";						
					} 

					// 이전버튼 활성화 여부를 결정하는 부분
					if (pagination['prev']) {
						block += "<a href='javascript:getPage("
								+ pagination['page'] + ")'> << </a>";
						block += "<a href='javascript:getPage("
								+ (pagination['startPage'] - 1)
								+ ")'> < </a>";
						// 시작 페이지 > 처리
					}
					// 번호를 표시하는 부분
					for (var i = pagination['startPage']; i < pagination['endPage'] + 1; i++) {
						block += "<a class='page-link' href='javascript:getPage("
								+ i + ")'>" + i + "</a>";
					}

					// 다음페이지 여부
					if (pagination['next'] && pagination['endPage'] > 0) {
						block += "<a href='javascript:getPage("
								+ (pagination['endPage'] + 1)
								+ ")'> > </a>";
						block += "<a href='javascript:getPage("
								+ (Math.ceil(pagination['totalCount']
										/ pagination.cri['perPageNum']))
								+ ")'> >> </a>";
					}
											
					$("#totalCnt").html(totalCnt);						
					$("#dataSection").html(data);
					$("#paginationBox").html(block);
					// 물어보기
					$("tbody").html(data);
					$("#insertBtn").show();
					$("#deleteBtn").show();
					$("#updateBtn").show();
					$("#printBtn").show();
					$("#saveBtn").hide();
					$("#cancelBtn").hide();
				}
			})
}

	
</script>